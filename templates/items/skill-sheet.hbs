<form class="hwfwm item-sheet skill-sheet" autocomplete="off">
  <header class="sheet-header flexrow">
    <img class="profile" src="{{item.img}}" title="{{item.name}}" data-edit="img"/>
    <div class="header-fields">
      <h1 class="charname">
        <input name="name" type="text" value="{{item.name}}" placeholder="Skill Name" {{#unless editable}}readonly{{/unless}}/>
      </h1>

      <div class="grid-2col">
        <div class="field">
          <label>Category</label>
          <input type="text" name="system.category" value="{{systemView.category}}" placeholder="e.g. Combat, Power, Speed" {{#unless editable}}readonly{{/unless}}/>
        </div>

        <div class="field">
          <label>Associated Attribute</label>
          <select name="system.attribute" {{#unless editable}}disabled{{/unless}}>
            <option value="power"    {{#if (eq systemView.attribute "power")}}selected{{/if}}>Power</option>
            <option value="speed"    {{#if (eq systemView.attribute "speed")}}selected{{/if}}>Speed</option>
            <option value="spirit"   {{#if (eq systemView.attribute "spirit")}}selected{{/if}}>Spirit</option>
            <option value="recovery" {{#if (eq systemView.attribute "recovery")}}selected{{/if}}>Recovery</option>
          </select>
        </div>
      </div>

      <div class="grid-3col">
        <div class="field">
          <label>Rank</label>
          <input type="text" name="system.rank" value="{{system.rank}}" placeholder="" {{#unless editable}}readonly{{/unless}}/>
        </div>

        <div class="field">
          <label>Modifier</label>
          <input type="number" name="system.mod" value="{{system.mod}}" step="1" {{#unless editable}}readonly{{/unless}}/>
        </div>

        <div class="field checkbox">
          <label>Trained</label>
          <input type="checkbox" name="system.trained" {{checked system.trained}} {{#unless editable}}disabled{{/unless}}/>
        </div>
      </div>

      <div class="field">
        <label>Specialization</label>
        <input type="text" name="system.specialization" value="{{system.specialization}}" placeholder="(optional)" {{#unless editable}}readonly{{/unless}}/>
      </div>
    </div>
  </header>

  <section class="sheet-body">
    <div class="field">
      <label>Description</label>
      <textarea name="system.description" rows="8" {{#unless editable}}readonly{{/unless}}>{{system.description}}</textarea>
    </div>

    {{!-- Hidden mirrors ensure both pairs exist after submit --}}
    <input type="hidden" name="system.skillType" value="{{systemView.category}}"/>
    <input type="hidden" name="system.associatedAttribute" value="{{systemView.attribute}}"/>
  </section>
</form>
